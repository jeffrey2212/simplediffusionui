/* ✦ Cursor/Windsurf 生成指令 ✦ */
基于 Next.js 15 + TypeScript + Tailwind CSS 实现以下功能模块：

# UI 需求
1. 主输入面板
- 使用 MDEditor 实现 Markdown 输入框
- 暗色主题渐变背景 (from-gray-800 to-gray-900)
- 预设占位符："輸入您的創作概念 (例: 夕陽下的機械駿馬)"
- 实时字数统计与 CLIP 相关性预估值展示

2. 参数控制区 (3 列响应式网格)
- 风格选择器 (下拉菜单)
  选项: [赛博朋克, 水彩, 电影级, 自定义]
- 排除元素标签输入 (支持自由标签)
- 构图选择器 (卡片式图标按钮)
  选项: [三分法, 对称式, 动态视角]

3. 语音输入按钮
- 集成 Web Speech API
- 录音时显示动态声波纹
- 支持中英文自动识别

4. 实时预览面板
- 显示格式化后的 Markdown
- 高亮关键实体 (主体/动作/环境)
- 交互式风格标签 (可点击编辑)

# 功能逻辑
1. 状态管理
- 使用 Zustand 分离原始 prompt 与强化参数
- 防抖处理实时预览 (300ms 延迟)
- 语音输入状态异常处理

2. 验证系统
- 集成 Zod 校验规则：
  - 最少 10 字符
  - 最多 500 字符
  - 排除禁用词列表 (暴力/色情)
- 错误提示动画 (滑动淡入)

3. API 集成
- Next.js 路由端点 /api/enhance-prompts
- 请求体结构：
  { rawPrompt: string, style?: string, exclude?: string[] }
- 错误响应处理 (429/500 状态码)

# 样式要求
- 暗色科技风 UI 主题
- 输入框聚焦时霓虹光晕效果
- 平滑过渡动画 (所有交互)
- 移动端友好虚拟键盘处理
- WCAG 2.1 AA 无障碍标准

# 附加指令
1. 生成配套单元测试：
   - 语音输入转换测试
   - Zod 校验边界测试
   - API 路由参数验证测试

2. 使用最新 Next.js 14 App Router 架构

3. 添加详细 JSDoc 注释 (中英双语)

4. 实现加载状态骨架屏